(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{299:function(e,t,i){"use strict";i.r(t);var s=i(291);var o=i(292);var d=i(290);function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function a(e,t,i){if(t)r(e.prototype,t);if(i)r(e,i);return e}var l=function(){function e(){n(this,e);this.keys={};document.addEventListener("keydown",this.keydownHandler.bind(this));document.addEventListener("keyup",this.keyupHandler.bind(this))}a(e,[{key:"stop",value:function e(){document.removeEventListener("keydown",this.keydownHandler);document.removeEventListener("keyup",this.keyupHandler)}},{key:"keydownHandler",value:function e(t){if(!t.repeat){this.keys[t.key]=true}else{this.keys[t.key]="holding"}}},{key:"keyupHandler",value:function e(t){this.keys[t.key]=false}}]);return e}();function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function p(e,t,i){if(t)c(e.prototype,t);if(i)c(e,i);return e}var h=function(){function h(e,t,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";g(this,h);this.engine=e;var o=40;var n=64;var r=o/2;var a=n/2;var l=4;var c=.65;this.sensors={top:d["Bodies"].rectangle(t,i-a-l,o*c,l,{isSensor:true,render:{visible:false}}),right:d["Bodies"].rectangle(t+r+l,i,l,n*c,{isSensor:true,render:{visible:false}}),bottom:d["Bodies"].rectangle(t,i+a+l,o*c,l,{density:1.5,isSensor:true,render:{visible:false}}),left:d["Bodies"].rectangle(t-r-l,i,l,n*c,{isSensor:true,render:{visible:false}})};this.body=d["Bodies"].rectangle(t,i,o,n,{density:1,render:{sprite:{texture:"".concat(s,"/assets/images/sprite.png")}}});this.composite=d["Body"].create({friction:.25,frictionStatic:.25,parts:[this.body,this.sensors.top,this.sensors.right,this.sensors.bottom,this.sensors.left],restitution:.5});d["Events"].on(this.engine,"collisionEnd",this.collisionEnd.bind(this));d["Events"].on(this.engine,"collisionActive",this.collisionActive.bind(this));d["World"].add(this.engine.world,this.composite);return this}p(h,[{key:"stop",value:function e(){d["Events"].off(this.engine,"collisionEnd",this.collisionEnd);d["Events"].off(this.engine,"collisionActive",this.collisionActive)}},{key:"collisionEnd",value:function e(t){var i=t.pairs;for(var s=0,o=i.length;s!==o;++s){var n=i[s];if(n.bodyA===this.sensors.bottom||n.bodyB===this.sensors.bottom){this.onFloor=false}else if(n.bodyA===this.sensors.right||n.bodyB===this.sensors.right){this.onRight=false}else if(n.bodyA===this.sensors.left||n.bodyB===this.sensors.left){this.onLeft=false}}}},{key:"collisionActive",value:function e(t){var i=t.pairs;for(var s=0,o=i.length;s!==o;++s){var n=i[s];if(n.bodyA===this.sensors.bottom||n.bodyB===this.sensors.bottom){this.onFloor=true}else if(n.bodyA===this.sensors.right||n.bodyB===this.sensors.right){this.onRight=true}else if(n.bodyA===this.sensors.left||n.bodyB===this.sensors.left){this.onLeft=true}}}}]);return h}();function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:256;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:256;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;y(this,e);this.x=t/2;this.y=i/2;this.scale=s;this.width=t;this.height=i};var f=[{type:"rectangle",density:.7,width:55,height:64,xScale:.25,yScale:.25,url:"/assets/images/logo/logoGrunt.png"},{type:"rectangle",density:.8,width:29,height:64,xScale:.25,yScale:.25,url:"/assets/images/logo/logoGulp.png"},{type:"rectangle",density:.8,width:38,height:64,xScale:.25,yScale:.25,url:"/assets/images/logo/logoHTML5.png"},{type:"rectangle",density:.4,width:50,height:50,xScale:.25,yScale:.25,url:"/assets/images/logo/logoJavascript.png"},{type:"rectangle",density:.5,width:60,height:22,xScale:.25,yScale:.25,url:"/assets/images/logo/logoJekyll.png"},{type:"rectangle",density:.6,width:50,height:52,xScale:.25,yScale:.25,url:"/assets/images/logo/logoMarionette.png"},{type:"rectangle",density:.7,width:64,height:18,xScale:.25,yScale:.25,url:"/assets/images/logo/logoMongoDB.png"},{type:"rectangle",density:.8,width:62,height:32,xScale:.25,yScale:.25,url:"/assets/images/logo/logoMySQL.png"},{type:"rectangle",density:.6,width:52,height:32,xScale:.25,yScale:.25,url:"/assets/images/logo/logoNodeJS.png"},{type:"rectangle",density:.8,width:60,height:21,xScale:.25,yScale:.25,url:"/assets/images/logo/logoNpm.png"},{type:"rectangle",density:.7,width:60,height:32,xScale:.25,yScale:.25,url:"/assets/images/logo/logoPHP.png"},{type:"rectangle",density:.7,width:49,height:62,xScale:.25,yScale:.25,url:"/assets/images/logo/logoRubyOnRails.png"},{type:"rectangle",density:.6,width:62,height:48,xScale:.25,yScale:.25,url:"/assets/images/logo/logoSass.png"}];var m=[{type:"circle",density:.025,radius:30,xScale:.25,yScale:.25,url:"/assets/images/logo/logoAMP.png"},{type:"circle",density:.05,radius:30,xScale:.25,yScale:.25,url:"/assets/images/logo/logoAtom.png"},{type:"circle",density:.015,radius:31,xScale:.25,yScale:.25,url:"/assets/images/logo/logoBower.png"},{type:"circle",density:.05,radius:29,xScale:.25,yScale:.25,url:"/assets/images/logo/logoChrome.png"},{type:"circle",density:.015,radius:24,xScale:.25,yScale:.25,url:"/assets/images/logo/logoWordpress.png"},{type:"circle",density:.05,radius:28,xScale:.25,yScale:.25,url:"/assets/images/logo/logoYeoman.png"}];function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function b(e,t,i){if(t)w(e.prototype,t);if(i)w(e,i);return e}var S=function(){function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";v(this,i);this.world=e;this.baseurl=t;this.logos=[];this.lastShape={};this.createBounds(1e3,1e3,1e3);this.createPlatforms();setInterval(this.spawnLogos.bind(this),1e3)}b(i,[{key:"createBounds",value:function e(t,i,s){var o=t/2;var n=i/2;var r=s/2;var a=t*2;var l=i*2;var c={render:{fillStyle:"#224466"},isStatic:true};var h=[d["Bodies"].rectangle(o,-r,a,s,c),d["Bodies"].rectangle(t+r,n,s,l,c),d["Bodies"].rectangle(o,i+r,a,s,c),d["Bodies"].rectangle(-r,n,s,l,c)];d["World"].add(this.world,h)}},{key:"createPlatforms",value:function e(){var t=[d["Bodies"].rectangle(1e3/3,1e3/5,900,50,{isStatic:true,angle:.075,render:{fillStyle:"#224466"}}),d["Bodies"].rectangle(1e3/1.5,1e3/2,900,50,{isStatic:true,angle:-.075,render:{fillStyle:"#224466"}}),d["Bodies"].rectangle(1e3/3,1e3/1.25,900,50,{isStatic:true,angle:.075,render:{fillStyle:"#224466"}})];d["World"].add(this.world,t)}},{key:"spawnLogos",value:function e(){var t=[{x:750,y:600},{x:600,y:256},{x:60,y:127},{x:600,y:96}];if(this.logos.length<20){var i=parseInt(Math.random()*t.length,10);var s=t[i],o=s.randomX,n=s.randomY;var r=this.randomLogo(o,n);var a=Math.random()-.5;var l=Math.random()*2;this.logos.push(r);d["World"].add(this.world,r);d["Body"].applyForce(r,r.position,{x:a*l,y:.05});d["Body"].setAngularVelocity(r,a*l)}else{d["World"].remove(this.world,this.logos.shift())}}},{key:"randomLogo",value:function e(t,i){if(this.lastShape.type==="circle"){var s=d["Common"].random(.5,1.5);return this.randomRectLogo(t,i,s)}var o=d["Common"].random(.5,1.5);return this.randomCircleLogo(t,i,o)}},{key:"randomRectLogo",value:function e(t,i,s){var o=parseInt(d["Common"].random(0,f.length),10);var n=f[o];while(n===this.lastShape){o=parseInt(d["Common"].random(0,f.length),10);n=f[o]}this.lastShape=n;return d["Bodies"].rectangle(t,i,n.width*s,n.height*s,{density:n.density*s,friction:.5,render:{sprite:{texture:this.baseurl+n.url,xScale:n.xScale*s,yScale:n.yScale*s}}})}},{key:"randomCircleLogo",value:function e(t,i,s){var o=parseInt(d["Common"].random(0,m.length),10);var n=m[o];while(n===this.lastShape){o=parseInt(d["Common"].random(0,m.length),10);n=m[o]}this.lastShape=n;return d["Bodies"].circle(t,i,n.radius*s,{density:n.density*s,friction:.5,render:{sprite:{texture:this.baseurl+n.url,xScale:n.xScale*s,yScale:n.yScale*s}}})}}]);return i}();function x(e,t,i){if(e.w&&e.w!=="holding"){if(!t.onFloor){if(t.onRight){d["Body"].applyForce(t.composite,t.composite.position,{x:-(.015*t.composite.mass),y:-(.045*t.composite.mass)});e.w=false}else if(t.onLeft){d["Body"].applyForce(t.composite,t.composite.position,{x:.015*t.composite.mass,y:-(.045*t.composite.mass)});e.w=false}}else if(t.onRight){d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:-(.04*t.composite.mass)});e.w=false}else if(t.onLeft){d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:-(.04*t.composite.mass)});e.w=false}else{d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:-(.05*t.composite.mass)});e.w=false}}if(e.s&&!t.onFloor){d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:.005*t.composite.mass})}if(e.a){d["Body"].applyForce(t.composite,t.composite.position,{x:-(.001*t.composite.mass),y:-(5e-4*t.composite.mass)})}if(e.d){d["Body"].applyForce(t.composite,t.composite.position,{x:.001*t.composite.mass,y:-(5e-4*t.composite.mass)})}if(e["+"]){i.scale-=.01}if(e["-"]){i.scale+=.01}}i.d(t,"default",function(){return L});function k(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function B(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function E(e,t,i){if(t)B(e.prototype,t);if(i)B(e,i);return e}var L=function(){function n(e,t,i,s){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";k(this,n);this.engine=d["Engine"].create();this.world=this.engine.world;this.canvas=i;this.context2D=this.canvas.getContext("2d");this.context2D.imageSmoothingEnabled=false;this.viewport=new u(parseInt(this.canvas.clientWidth/2,10),parseInt(this.canvas.clientHeight/2,10));this.render=d["Render"].create({canvas:this.canvas,engine:this.engine,options:{background:"#112244",width:s.width,height:s.height,showAngleIndicator:false,wireframes:false}});d["Render"].run(this.render);this.runner=d["Runner"].create();d["Runner"].run(this.runner,this.engine);this.render.mouse=d["Mouse"].create(this.render.canvas);d["World"].add(this.world,d["MouseConstraint"].create(this.engine,{mouse:this.render.mouse,constraint:{stiffness:.001,render:{visible:true}}}));this.keyboard=new l;window.addEventListener("resize",this.resizeViewport.bind(this));d["Events"].on(this.render,"beforeRender",this.beforeRender.bind(this));d["Engine"].run(this.engine);this.level=new S(this.world,o);this.player=new h(this.engine,25,850)}E(n,[{key:"stop",value:function e(){d["Events"].off(this.render,"beforeRender",this.beforeRender);d["Runner"].stop(this.runner);this.keyboard.stop();this.player.stop()}},{key:"resizeViewport",value:function e(){this.viewport.width=parseInt(this.canvas.clientWidth/2,10);this.viewport.height=parseInt(this.canvas.clientHeight/2,10)}},{key:"beforeRender",value:function e(){if(!this.player)return;this.viewport.x=this.player.composite.position.x;this.viewport.y=this.player.composite.position.y;var t=this.viewport.width*this.viewport.scale;var i=this.viewport.height*this.viewport.scale;d["Render"].lookAt(this.render,{min:{x:this.viewport.x-t,y:this.viewport.y-i},max:{x:this.viewport.x+t,y:this.viewport.y+i}});d["Body"].setAngle(this.player.composite,this.player.composite.angle*.8);d["Body"].setAngle(this.player.body,this.player.composite.angle);x(this.keyboard.keys,this.player,this.viewport)}}]);return n}()}}]);
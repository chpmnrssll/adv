(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{299:function(e,t,s){"use strict";s.r(t);var i=s(291);var o=s(292);var d=s(290);function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function a(e,t,s){if(t)r(e.prototype,t);if(s)r(e,s);return e}var l=function(){function e(){n(this,e);this.keys={};document.addEventListener("keydown",this.keydownHandler.bind(this));document.addEventListener("keyup",this.keyupHandler.bind(this))}a(e,[{key:"stop",value:function e(){document.removeEventListener("keydown",this.keydownHandler);document.removeEventListener("keyup",this.keyupHandler)}},{key:"keydownHandler",value:function e(t){if(!t.repeat){this.keys[t.key]=true}else{this.keys[t.key]="holding"}}},{key:"keyupHandler",value:function e(t){this.keys[t.key]=false}}]);return e}();function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function y(e,t,s){if(t)c(e.prototype,t);if(s)c(e,s);return e}var h=function(){function h(e,t,s){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";g(this,h);this.engine=e;var o=40;var n=64;var r=o/2;var a=n/2;var l=4;var c=.65;this.sensors={top:d["Bodies"].rectangle(t,s-a-l,o*c,l,{isSensor:true,render:{visible:false}}),right:d["Bodies"].rectangle(t+r+l,s,l,n*c,{isSensor:true,render:{visible:false}}),bottom:d["Bodies"].rectangle(t,s+a+l,o*c,l,{density:1.5,isSensor:true,render:{visible:false}}),left:d["Bodies"].rectangle(t-r-l,s,l,n*c,{isSensor:true,render:{visible:false}})};this.mass=d["Bodies"].rectangle(t,s,o,n,{density:1,render:{visible:false}});this.body=d["Bodies"].rectangle(t,s,o,n,{density:1,render:{sprite:{texture:"".concat(i,"/assets/images/sprite.png"),xOffset:0,yOffset:0}}});this.composite=d["Body"].create({friction:.25,frictionStatic:.25,parts:[this.mass,this.body,this.sensors.top,this.sensors.right,this.sensors.bottom,this.sensors.left],restitution:.5});d["Events"].on(this.engine,"collisionEnd",this.collisionEnd.bind(this));d["Events"].on(this.engine,"collisionActive",this.collisionActive.bind(this));d["World"].add(this.engine.world,this.composite);return this}y(h,[{key:"stop",value:function e(){d["Events"].off(this.engine,"collisionEnd",this.collisionEnd);d["Events"].off(this.engine,"collisionActive",this.collisionActive)}},{key:"collisionEnd",value:function e(t){var s=t.pairs;for(var i=0,o=s.length;i!==o;++i){var n=s[i];if(n.bodyA===this.sensors.bottom||n.bodyB===this.sensors.bottom){this.onFloor=false}else if(n.bodyA===this.sensors.right||n.bodyB===this.sensors.right){this.onRight=false}else if(n.bodyA===this.sensors.left||n.bodyB===this.sensors.left){this.onLeft=false}}}},{key:"collisionActive",value:function e(t){var s=t.pairs;for(var i=0,o=s.length;i!==o;++i){var n=s[i];if(n.bodyA===this.sensors.bottom||n.bodyB===this.sensors.bottom){this.onFloor=true}else if(n.bodyA===this.sensors.right||n.bodyB===this.sensors.right){this.onRight=true}else if(n.bodyA===this.sensors.left||n.bodyB===this.sensors.left){this.onLeft=true}}}}]);return h}();function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:256;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:256;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;p(this,e);this.x=t/2;this.y=s/2;this.scale=i;this.width=t;this.height=s};var f=[{type:"rectangle",density:.7,width:32,height:40,xScale:.25,yScale:.25,url:"/assets/images/logo/archlinux.svg"},{type:"rectangle",density:.7,width:55,height:45,xScale:.25,yScale:.25,url:"/assets/images/logo/kickAOL.png"},{type:"rectangle",density:.7,width:55,height:64,xScale:.25,yScale:.25,url:"/assets/images/logo/logoGrunt.png"},{type:"rectangle",density:.8,width:29,height:64,xScale:.25,yScale:.25,url:"/assets/images/logo/logoGulp.png"},{type:"rectangle",density:.8,width:38,height:64,xScale:.25,yScale:.25,url:"/assets/images/logo/logoHTML5.png"},{type:"rectangle",density:.4,width:50,height:50,xScale:.25,yScale:.25,url:"/assets/images/logo/logoJavascript.png"},{type:"rectangle",density:.5,width:60,height:22,xScale:.25,yScale:.25,url:"/assets/images/logo/logoJekyll.png"},{type:"rectangle",density:.6,width:50,height:52,xScale:.25,yScale:.25,url:"/assets/images/logo/logoMarionette.png"},{type:"rectangle",density:.7,width:64,height:18,xScale:.25,yScale:.25,url:"/assets/images/logo/logoMongoDB.png"},{type:"rectangle",density:.8,width:62,height:32,xScale:.25,yScale:.25,url:"/assets/images/logo/logoMySQL.png"},{type:"rectangle",density:.6,width:52,height:32,xScale:.25,yScale:.25,url:"/assets/images/logo/logoNodeJS.png"},{type:"rectangle",density:.8,width:60,height:21,xScale:.25,yScale:.25,url:"/assets/images/logo/logoNpm.png"},{type:"rectangle",density:.7,width:60,height:32,xScale:.25,yScale:.25,url:"/assets/images/logo/logoPHP.png"},{type:"rectangle",density:.7,width:49,height:62,xScale:.25,yScale:.25,url:"/assets/images/logo/logoRubyOnRails.png"},{type:"rectangle",density:.6,width:62,height:48,xScale:.25,yScale:.25,url:"/assets/images/logo/logoSass.png"}];var m=[{type:"circle",density:.025,radius:30,xScale:.25,yScale:.25,url:"/assets/images/logo/logoC.png"},{type:"circle",density:.025,radius:30,xScale:.25,yScale:.25,url:"/assets/images/logo/logoAMP.png"},{type:"circle",density:.05,radius:30,xScale:.25,yScale:.25,url:"/assets/images/logo/logoAtom.png"},{type:"circle",density:.015,radius:31,xScale:.25,yScale:.25,url:"/assets/images/logo/logoBower.png"},{type:"circle",density:.05,radius:29,xScale:.25,yScale:.25,url:"/assets/images/logo/logoChrome.png"},{type:"circle",density:.015,radius:24,xScale:.25,yScale:.25,url:"/assets/images/logo/logoWordpress.png"},{type:"circle",density:.05,radius:28,xScale:.25,yScale:.25,url:"/assets/images/logo/logoYeoman.png"}];function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function S(e,t,s){if(t)w(e.prototype,t);if(s)w(e,s);return e}var b=function(){function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";v(this,s);this.world=e;this.baseurl=t;this.logos=[];this.lastShape={};this.createBounds(1e3,1e3,1e3);this.createPlatforms();setInterval(this.spawnLogos.bind(this),1e3)}S(s,[{key:"createBounds",value:function e(t,s,i){var o=t/2;var n=s/2;var r=i/2;var a=t*2;var l=s*2;var c={render:{fillStyle:"#224466"},isStatic:true};var h=[d["Bodies"].rectangle(o,-r,a,i,c),d["Bodies"].rectangle(t+r,n,i,l,c),d["Bodies"].rectangle(o,s+r,a,i,c),d["Bodies"].rectangle(-r,n,i,l,c)];d["World"].add(this.world,h)}},{key:"createPlatforms",value:function e(){var t=[d["Bodies"].rectangle(1e3/3,1e3/5,900,50,{isStatic:true,angle:.075,render:{fillStyle:"#224466"}}),d["Bodies"].rectangle(1e3/1.5,1e3/2,900,50,{isStatic:true,angle:-.075,render:{fillStyle:"#224466"}}),d["Bodies"].rectangle(1e3/3,1e3/1.25,900,50,{isStatic:true,angle:.075,render:{fillStyle:"#224466"}})];d["World"].add(this.world,t)}},{key:"spawnLogos",value:function e(){var t=[{x:750,y:600},{x:600,y:256},{x:60,y:127},{x:600,y:96}];if(this.logos.length<20){var s=parseInt(Math.random()*t.length,10);var i=this.randomLogo(t[s].x,t[s].y);var o=Math.random()-.5;var n=Math.random()*2;this.logos.push(i);d["World"].add(this.world,i);d["Body"].applyForce(i,i.position,{x:o*n,y:.05});d["Body"].setAngularVelocity(i,o*n)}else{d["World"].remove(this.world,this.logos.shift())}}},{key:"randomLogo",value:function e(t,s){if(this.lastShape.type==="circle"){var i=d["Common"].random(.5,1.5);var o=this.randomRectLogo(t,s,i);return o}var n=d["Common"].random(.5,1.5);var r=this.randomCircleLogo(t,s,n);return r}},{key:"randomRectLogo",value:function e(t,s,i){var o=parseInt(d["Common"].random(0,f.length),10);var n=f[o];while(n===this.lastShape){o=parseInt(d["Common"].random(0,f.length),10);n=f[o]}this.lastShape=n;return d["Bodies"].rectangle(t,s,n.width*i,n.height*i,{density:n.density*i,friction:.5,render:{strokeStyle:"#fc4",wireframe:true,sprite:{texture:"".concat(this.baseurl).concat(n.url),xScale:n.xScale*i,yScale:n.yScale*i,xOffset:0,yOffset:0}}})}},{key:"randomCircleLogo",value:function e(t,s,i){var o=parseInt(d["Common"].random(0,m.length),10);var n=m[o];while(n===this.lastShape){o=parseInt(d["Common"].random(0,m.length),10);n=m[o]}this.lastShape=n;return d["Bodies"].circle(t,s,n.radius*i,{density:n.density*i,friction:.5,render:{sprite:{texture:"".concat(this.baseurl).concat(n.url),xScale:n.xScale*i,yScale:n.yScale*i,xOffset:0,yOffset:0}}})}}]);return s}();function x(e,t,s){if(e.w&&e.w!=="holding"){if(!t.onFloor){if(t.onRight){d["Body"].applyForce(t.composite,t.composite.position,{x:-(.015*t.composite.mass),y:-(.045*t.composite.mass)});e.w=false}else if(t.onLeft){d["Body"].applyForce(t.composite,t.composite.position,{x:.015*t.composite.mass,y:-(.045*t.composite.mass)});e.w=false}}else if(t.onRight){d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:-(.04*t.composite.mass)});e.w=false}else if(t.onLeft){d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:-(.04*t.composite.mass)});e.w=false}else{d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:-(.05*t.composite.mass)});e.w=false}}if(e.s&&!t.onFloor){d["Body"].applyForce(t.composite,t.composite.position,{x:0,y:.005*t.composite.mass})}if(e.a){d["Body"].applyForce(t.composite,t.composite.position,{x:-(.001*t.composite.mass),y:-(5e-4*t.composite.mass)})}if(e.d){d["Body"].applyForce(t.composite,t.composite.position,{x:.001*t.composite.mass,y:-(5e-4*t.composite.mass)})}if(e["+"]){s.scale-=.01}if(e["-"]){s.scale+=.01}}s.d(t,"default",function(){return L});function k(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function B(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function E(e,t,s){if(t)B(e.prototype,t);if(s)B(e,s);return e}var L=function(){function n(e,t,s,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";k(this,n);this.engine=d["Engine"].create();this.world=this.engine.world;this.canvas=s;this.context2D=this.canvas.getContext("2d");this.context2D.imageSmoothingEnabled=false;this.viewport=new u(parseInt(this.canvas.clientWidth/2,10),parseInt(this.canvas.clientHeight/2,10));this.render=d["Render"].create({canvas:this.canvas,engine:this.engine,options:{background:"#112244",width:i.width,height:i.height,showAngleIndicator:false,wireframes:false}});d["Render"].run(this.render);this.runner=d["Runner"].create();d["Runner"].run(this.runner,this.engine);this.render.mouse=d["Mouse"].create(this.render.canvas);d["World"].add(this.world,d["MouseConstraint"].create(this.engine,{mouse:this.render.mouse,constraint:{stiffness:.001,render:{visible:true}}}));this.keyboard=new l;window.addEventListener("resize",this.resizeViewport.bind(this));d["Events"].on(this.render,"beforeRender",this.beforeRender.bind(this));d["Engine"].run(this.engine);this.level=new b(this.world,o);this.player=new h(this.engine,25,850,o)}E(n,[{key:"stop",value:function e(){d["Events"].off(this.render,"beforeRender",this.beforeRender);d["Runner"].stop(this.runner);this.keyboard.stop();this.player.stop()}},{key:"resizeViewport",value:function e(){this.viewport.width=parseInt(this.canvas.clientWidth/2,10);this.viewport.height=parseInt(this.canvas.clientHeight/2,10)}},{key:"beforeRender",value:function e(){if(!this.player)return;this.viewport.x=this.player.composite.position.x;this.viewport.y=this.player.composite.position.y;var t=this.viewport.width*this.viewport.scale;var s=this.viewport.height*this.viewport.scale;d["Render"].lookAt(this.render,{min:{x:this.viewport.x-t,y:this.viewport.y-s},max:{x:this.viewport.x+t,y:this.viewport.y+s}});d["Body"].setAngle(this.player.composite,this.player.composite.angle*.8);d["Body"].setAngle(this.player.body,this.player.composite.angle);x(this.keyboard.keys,this.player,this.viewport)}}]);return n}()}}]);